# 権限管理機能の使い方

## 機能概要

- **スタッフ（管理者）**: FAQの追加・編集・削除ができる
- **受講生（一般ユーザー）**: 質問と回答の検索・閲覧のみ

---

## 初期設定

### デフォルトパスワード

初回起動時のデフォルトパスワード：
- **パスワード**: `admin123`

⚠️ **本番環境では必ず変更してください！**

### パスワードの変更方法

環境変数で設定：

1. **Renderのダッシュボードで環境変数を設定**
   - Key: `ADMIN_PASSWORD`
   - Value: [新しいパスワード]

2. **JWT秘密鍵も設定（推奨）**
   - Key: `JWT_SECRET`
   - Value: [ランダムな文字列]

---

## 使い方

### 受講生（一般ユーザー）

1. **URLにアクセス**
   - https://faq-knowledge-base.onrender.com

2. **検索バーで質問を検索**
   - 質問を入力すると、過去のFAQから自動で回答を検索

3. **FAQを閲覧**
   - 検索結果からFAQをクリックして詳細を確認
   - 「役に立った」ボタンで評価

**制限:**
- FAQの追加・編集・削除はできません
- チャット履歴のアップロードはできません

---

### スタッフ（管理者）

1. **URLにアクセス**
   - https://faq-knowledge-base.onrender.com

2. **ログイン**
   - 画面に表示されるログインフォームでパスワードを入力
   - 「ログイン」ボタンをクリック

3. **FAQを管理**
   - 「+ 新しいFAQを追加」ボタンでFAQを追加
   - 「📄 チャット履歴から自動抽出」で一括追加
   - 各FAQの「編集」「削除」ボタンで管理

4. **ログアウト**
   - 右上の「🚪 ログアウト」ボタンをクリック

---

## セキュリティ

### 推奨設定

1. **強力なパスワードを使用**
   - 最低12文字以上
   - 大文字・小文字・数字・記号を含む

2. **環境変数でパスワードを設定**
   - Renderの環境変数で設定
   - コードに直接書かない

3. **JWT秘密鍵を設定**
   - ランダムな文字列を生成
   - 環境変数で設定

---

## トラブルシューティング

### ログインできない

- パスワードが正しいか確認
- 環境変数が設定されているか確認
- ブラウザのキャッシュをクリア

### 権限エラーが出る

- ログインし直す
- トークンが有効期限内か確認（24時間）

---

## 完了

これで、スタッフだけがFAQを管理でき、受講生は質問と回答のみ閲覧できるようになりました！
